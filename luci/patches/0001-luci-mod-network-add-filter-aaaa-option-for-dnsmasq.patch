From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Chuck <fanck0605@qq.com>
Date: Mon, 20 Jul 2020 19:12:21 +0800
Subject: [PATCH] luci-mod-network: add filter-aaaa option for dnsmasq

Signed-off-by: Chuck <fanck0605@qq.com>
---
 modules/luci-base/po/zh_Hans/base.po                        | 6 ++++++
 .../htdocs/luci-static/resources/view/network/dhcp.js       | 5 +++++
 2 files changed, 11 insertions(+)

--- a/modules/luci-base/po/zh_Hans/base.po
+++ b/modules/luci-base/po/zh_Hans/base.po
@@ -531,6 +531,12 @@ msgstr "额外的 HOSTS 文件"
 msgid "Additional servers file"
 msgstr "额外的 SERVERS 文件"
 
+msgid "Filter IPv6"
+msgstr "过滤 IPv6"
+
+msgid "Filter AAAA records during domain name resolution"
+msgstr "在域名解析时，过滤 AAAA 记录"
+
 #: modules/luci-mod-status/htdocs/luci-static/resources/view/status/include/30_network.js:34
 #: modules/luci-mod-status/htdocs/luci-static/resources/view/status/include/30_network.js:35
 #: modules/luci-mod-status/htdocs/luci-static/resources/view/status/include/30_network.js:36
--- a/modules/luci-mod-network/htdocs/luci-static/resources/view/network/dhcp.js
+++ b/modules/luci-mod-network/htdocs/luci-static/resources/view/network/dhcp.js
@@ -288,6 +288,11 @@ return view.extend({
 		s.taboption('files', form.DynamicList, 'addnhosts',
 			_('Additional Hosts files')).optional = true;
 
+		o = s.taboption('advanced', form.Flag, 'filter_aaaa',
+			_('Filter IPv6'),
+			_('Filter AAAA records during domain name resolution'));
+		o.optional = true;
+
 		o = s.taboption('advanced', form.Flag, 'quietdhcp',
 			_('Suppress logging'),
 			_('Suppress logging of the routine operation of these protocols'));
